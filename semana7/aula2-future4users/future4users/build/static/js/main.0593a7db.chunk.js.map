{"version":3,"sources":["components/UserSignup/index.js","components/UserListItem/index.js","components/UsersList/index.js","index.js"],"names":["FormContainer","styled","form","_templateObject","LabelStyled","label","_templateObject2","BotaoSalvar","button","_templateObject3","baseURL","UserSignup","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleNameChange","event","setState","name","target","value","handleEmailChange","email","handleCreateUser","userToBeCreated","axiosConfig","regenerator_default","a","async","_context","prev","next","state","alert","headers","api-token","awrap","axios","post","concat","stop","react_default","createElement","onChange","placeholder","onClick","Component","UserListItem","user","url","delete","onDeleteUser","t0","console","log","message","UsersList","getAllUsers","response","get","sent","allUsers","data","result","_this2","map","components_UserListItem","React","App","handleChangePage","currentPage","buttonText","className","components_UserSignup","components_UsersList","rootElement","document","getElementById","ReactDOM","render","src_App"],"mappings":"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","file":"static/js/main.0593a7db.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nimport axios from \"axios\";\nimport styled from 'styled-components';\n\n\nconst mockUser = {\n  name: \"Artur\",\n  email: \"ar@tur.com\"\n};\n\nconst FormContainer = styled.form`\n  border: 1px solid black;\n  padding: 5px;\n  text-align: center;\n  padding: 3vh 5vh;\n  width: fit-content;\n  text-align: center;\n  margin: 5em auto;\n`;\n\nconst LabelStyled = styled.label`\nmargin-left: 10px;\nmargin-right: 5px;\n`\nconst BotaoSalvar = styled.button`\ntext-align: center;\ncolor: white;\nbackground-color: blue;\nmargin-left: 10px;\n`\n\nconst baseURL = \"https://us-central1-future4-users.cloudfunctions.net/api\";\n\nclass UserSignup extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      name: \"\",\n      email: \"\"\n    };\n  }\n\n  handleNameChange = event => {\n    this.setState({ name: event.target.value });\n  };\n\n  handleEmailChange = event => {\n    this.setState({ email: event.target.value });\n  };\n\n  handleCreateUser = async () => {\n    const userToBeCreated = {\n      name: this.state.name,\n      email: this.state.email\n    };\n\n    alert(\"Usuário salvo!\")\n\n    const axiosConfig = {\n      headers: {\n        \"api-token\": \"rafacazal\"\n      }\n    };\n\n    // Fazendo de forma assíncrona\n    // axios\n    //   .post(`${baseURL}/users/createUser`, userToBeCreated, axiosConfig)\n    //   .then(() => {\n    //     this.setState({ name: \"\", email: \"\" });\n    //   });\n\n    // Fazendo de forma síncrona usando await\n    await axios.post(\n      `${baseURL}/users/createUser`,\n      userToBeCreated,\n      axiosConfig\n    );\n    this.setState({ name: \"\", email: \"\" });\n  };\n\n  render() {\n    return (\n      <div> \n      <FormContainer>\n        <LabelStyled> Nome:</LabelStyled>\n        <input\n          onChange={this.handleNameChange}\n          placeholder=\"Nome\"\n          value={this.state.name}\n        />\n        <LabelStyled>E-mail:</LabelStyled>\n        <input\n          onChange={this.handleEmailChange}\n          placeholder=\"E-mail\"\n          value={this.state.email}\n        />\n        <BotaoSalvar onClick={this.handleCreateUser}>Salvar</BotaoSalvar>\n      </FormContainer>\n      </div>\n    );\n  }\n}\n\nexport default UserSignup;\n","import React from \"react\";\nimport axios from \"axios\";\n\nconst baseURL = \"https://us-central1-future4-users.cloudfunctions.net/api\";\n\nconst UserListItem = props => {\n  const handleOnClickDelete = async () => {\n    const url = `${baseURL}/users/deleteUser?id=bananinha`;\n\n    const axiosConfig = {\n      headers: {\n        \"api-token\": \"rafacazal\"\n      }\n    };\n\n    // Fazendo de forma assíncrona\n    // axios.delete(url, axiosConfig).then(() => {\n    //   props.onDeleteUser();\n    // }).catch(error => {\n    //   console.log(error.message)\n    // })\n// ------------------------------------------------\n    \n    // Fazendo de forma síncrona\n    try {\n      await axios.delete(url, axiosConfig);\n      props.onDeleteUser();\n    } catch (error) {\n      console.log(error.message);\n    }\n  };\n\n  return (\n    <li>\n      {props.user.name} <button onClick={handleOnClickDelete}>X</button>\n    </li>\n  );\n};\n\nexport default UserListItem;\n","import React from \"react\";\nimport axios from \"axios\";\nimport UserListItem from \"../UserListItem\";\n\nconst baseURL = \"https://us-central1-future4-users.cloudfunctions.net/api\";\n\nclass UsersList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      allUsers: []\n    };\n  }\n\n  componentDidMount() {\n    this.getAllUsers();\n  }\n\n  getAllUsers = async () => {\n    const axiosConfig = {\n      headers: {\n        \"api-token\": \"rafacazal\"\n      }\n    };\n\n    // Forma assíncrona de fazer usando then\n    // const getAllUsersRequest = axios.get(\n    //   `${baseURL}/users/getAllUsers`,\n    //   axiosConfig\n    // );\n\n    // getAllUsersRequest.then(response => {\n    //   this.setState({ allUsers: response.data.result });\n    // });\n\n\n    // Forma síncrona de fazer usando await\n    const response = await axios.get(\n      `${baseURL}/users/getAllUsers`,\n      axiosConfig\n    );\n\n    this.setState({ allUsers: response.data.result });\n  };\n\n  render() {\n    return (\n      <div>\n        <h3>Usuários Cadastrados</h3>\n        {this.state.allUsers.map(user => (\n          <UserListItem user={user} onDeleteUser={this.getAllUsers} />\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default UsersList;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport UserSignup from \"./components/UserSignup\";\nimport UsersList from \"./components/UsersList\";\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      currentPage: \"signup\" // Parte do estado que controla a tela atual\n    };\n  }\n\n  handleChangePage = () => {\n    // Checa se a página atual é a \"signup\"\n    // caso seja, manda o usuário para a lista\n    // e vice-versa\n    if (this.state.currentPage === \"signup\") {\n      this.setState({ currentPage: \"list\" });\n    } else {\n      this.setState({ currentPage: \"signup\" });\n    }\n  };\n\n  render() {\n    // Define o texto do botão baseado na\n    // página em que nos encontramos no momento\n    const buttonText =\n      this.state.currentPage === \"signup\"\n        ? \"Ir para Lista\"\n        : \"Ir para Cadastro\";\n\n    return (\n      <div className=\"App\">\n        <button onClick={this.handleChangePage}>{buttonText}</button>\n        {/* Aqui embaixo, checamos a página atual, e renderizamos o componente */}\n        {this.state.currentPage === \"signup\" ? <UserSignup /> : <UsersList />}\n      </div>\n    );\n  }\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}